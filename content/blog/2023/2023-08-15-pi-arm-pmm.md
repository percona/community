---
title: 'PMM Client on Raspberry Pi 4'
date: "2023-08-15T00:00:00+00:00"
draft: false
tags: ['Percona', 'MySQL', 'PMM', 'monitoring', 'performance']
authors:
  - wayne
images:
  - blog/2023/8/fresh-raspi.png
slug: PMM-Client-on-Raspberry-Pi-4
---
This will be the third in my series of Percona Products on a Raspberry. My previous posts:
 - (How to Build a Percona Server "Stack" on a Raspberry Pi 3+
)[https://percona.community/blog/2019/08/01/how-to-build-a-percona-server-stack-on-a-raspberry-pi-3/]
 - (Raspberry Pi Bullseye Percona Server 64bit
)[https://percona.community/blog/2022/04/05/percona-server-raspberry-pi/]

Before I get started I would like to thank (guriandoro)[https://gist.github.com/guriandoro], for the work he did in compling the PMM Client tools.

Now as most of you know I love the Raspberry Pi and I love running MySQL on it for my hobby projects. I just recently decided that I need to be able to monitor the two MySQL Server here at home. What better tool to do this than PMM.

When I started out on this adventure I was not sure what resources I would find. I found several resources that I used to inspire this blog post. For this BLOG we will be using PMM Client 2.17 and PMM Server version 2.39.

## Pre-Reqs

You must be on Raspbian 10 Bullseye.

Please make sure download the PMM client for the Raspberry Pi. (download)[ https://github.com/guriandoro/pmm_arm/archive/refs/heads/master.zip] I would recommend downloading it directly to the MySQL Server where you will install the PMM Client.

## On the MySQL Server

```
cd 
wget  https://github.com/guriandoro/pmm_arm/archive/refs/heads/master.zip
unzip master.zip
```

Once we have the client unzipped its a good idea to verify that the tools will work on your Raspberry Pi.

```
cd ~/pmm_arm-master/raspbian.10.armv7l
./pmm-agent --version
```
You should get output like below.
```
ProjectName: pmm-agent
Version: 2.17.0-7-gb0318a3
PMMVersion: 2.17.0-7-gb0318a3
Timestamp: 2021-05-21 16:00:41 (UTC)
FullCommit: b0318a3d2ac3c17d53150f305469abe73b59f231
Branch: master
```

Now that we know the PMM Client runs on our Raspberry Pi. Now we need to create the install directory and move files to the correct locations.

## Setup install directories
```
sudo mkdir -p /usr/local/percona
sudo mkdir -p /usr/local/percona/pmm2
sudo mkdir -p /usr/local/percona/pmm2/tools
sudo mkdir -p /usr/local/percona/pmm2/config
sudo mkdir -p /usr/local/percona/pmm2/exporters
sudo mkdir -p /usr/local/percona/exporters
sudo mkdir -p /usr/local/percona/exporters/collectors/textfile-collector/high-resolution
sudo mkdir -p /usr/local/percona/exporters/collectors/textfile-collector/medium-resolution
sudo mkdir -p /usr/local/percona/exporters/collectors/textfile-collector/low-resolution
```

### Copy files into directories
```
cd ~/pmm_arm-master/raspbian.10.armv7l
sudo cp pmm-admin pmm-agent /usr/local/bin
sudo cp node_exporter vmagent /usr/local/percona/pmm2/exporters
```

## Configure the PMM Client
Its time to configure and test the PMM Client for the MySQL server where we are install PMM Client.

Please make sure you have the following three items:

1. PMM Server Hostname or IP Address
2. PMM Server admin ID
3. PMM Server admin Password

```
sudo pmm-agent setup --config-file=/usr/local/percona/pmm2/config/pmm-agent.yaml\
 --server-address=<YOUR-PMM-Server> --server-insecure-tls\
 --server-username=<YOURADMIN> --server-password=<YOURPASSWORD>
```
Now that the PMM Client has been configured, lets move on to starting the PMM Client.

## Start the PMM Client
```
 sudo pmm-agent --config-file=/usr/local/percona/pmm2/config/pmm-agent.yaml
```
